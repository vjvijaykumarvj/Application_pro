{% extends 'layout.html' %}
{% block title_content %}
{% if is_updated %}
    <title>Employee Management - Udate</title>
{% else %}
    <title>Employee Management - Create</title>
{% endif %}

{% endblock %}
{% block page_content %}
  <div class="container mt-5">
      <h2 class="text-center alert alert-danger">ModelForm CURD - Functional Based View</h2>

      <div class="row">
          <div class="col-sm-4">
              {% if is_updated %}
              <h4 class="text-center alert alert-info">Update Employee</h4>
              {% else %}
              <h4 class="text-center alert alert-info">Create Employee</h4>
              {% endif %}
              <form action="" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                    {{emp_form.as_p}}
                  <div class="form-group">
                      <!-- <button type="submit" class="btn btn-primary">Update Employee</button> -->
                      {% if is_updated %}
                      <button type="submit" class="btn btn-success">Update Employee</button>
                        {% else %}
                      <button type="submit" class="btn btn-success">Create Employee</button>
                        {% endif %}
                  </div>
              </form>
          </div>

          <div class="col-sm-7 offset-1">
              <h4 class="text-center alert alert-info">Employee Total Details</h4>

                  <table class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Name</th>
                        <th scope="col">Age</th>
                        <th scope="col">Salary</th>
                        <th scope="col">Address</th>
                        <th scope="col">Photo</th>
                        <th scope="col">Mobile</th>
                        <th scope="col">Pancard</th>
                        <th scope="col">Pincode</th>
                        <th scope="col">Action</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                          {% for employee in emp_list %}
                        <th scope="row">{{employee.id}}</th>
                        <td>{{employee.name}}</td>
                        <td>{{employee.age}}</td>
                        <td>{{employee.salary}}</td>
                        <td>{{employee.address}}</td>
                        <td>{{employee.photo}}</td>
                        <td>{{employee.mobile}}</td>
                        <td>{{employee.pincode}}</td>
                        <td>{{employee.pancard}}</td>
                        <td>
                            <a href="{% url 'employee_app:employee_update' pk=employee.id %}" class="btn btn-warning btn-sm">Edit</a>
                            <a href="{% url 'employee_app:employee_delete' pk=employee.id %}" class="btn btn-danger btn-sm">Delete</a>
                        </td>
                            <tr>
                          {% empty %}
                           <th scope="row">N/A</th>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                        <td>N/A</td>
                      </tr>

                    </tbody>
                  </table>
{% endfor %}
                  <!-- <h3 class="text-center alert alert-warning">Employees Does not exist</h3> -->

          </div>
      </div>
  </div>
{% endblock %}